<html>
<head>
  <meta charset="utf-8">
  <title>Knockout-Sync Mocha Tests</title>
  <link rel="stylesheet" href="tests/mocha.css" />
</head>
<body>
  <div id="mocha"></div>
  <script src="tests/mocha.js"></script>
  <script src="node_modules/sinon/lib/sinon.js"></script>
  <script src="node_modules/sinon/lib/sinon/spy.js"></script>
  <script src="tests/sinon-server-1.9.1.js"></script>

  <script src="lib/js/config.js"></script>
  <script src="node_modules/requirejs/require.js"></script>

  <script type="text/javascript">
    mocha.setup('bdd');

    require([
      'node_modules/sinon/lib/sinon', 
      'node_modules/sinon/lib/sinon/spy', 
      'node_modules/sinon/lib/sinon/call',
      'node_modules/sinon/lib/sinon/assert',
      'node_modules/sinon/lib/sinon/util/fake_xml_http_request', 
      'node_modules/sinon/lib/sinon/util/fake_server'
    ]);

    require(['./tests/js/KnockoutSync/jQueryAjaxDriverTestWeb.js'], function(testcase) {
      testcase(window.before, window.after, window.sinon);

      mocha.checkLeaks();
      mocha.globals(['jQuery']);
      mocha.run();
    });

  </script>
</body>
</html>